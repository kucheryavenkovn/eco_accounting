
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	СхемаКомпоновки = Отчеты.АР_ЗанятостьПлощадей.ПолучитьМакет("ПоляНастройки");
	АР_ОбщиеПроцедуры.ДополнитьТекстЗапросаДополнительнымиПолями(СхемаКомпоновки);
	КомпоновщикНастроек.Инициализировать(
		Новый ИсточникДоступныхНастроекКомпоновкиДанных(ПоместитьВоВременноеХранилище(СхемаКомпоновки, ЭтаФорма.УникальныйИдентификатор))
	);
	
КонецПроцедуры

&НаКлиенте
Процедура КомпоновщикНастроекВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	Выбор();
	
КонецПроцедуры

&НаКлиенте
Процедура Выбор()
	
	Поле = Строка(КомпоновщикНастроек.Настройки.ДоступныеПоляОтбора.ПолучитьОбъектПоИдентификатору(Элементы.КомпоновщикНастроек.ТекущаяСтрока).Поле);
	Заголовок = Строка(КомпоновщикНастроек.Настройки.ДоступныеПоляОтбора.ПолучитьОбъектПоИдентификатору(Элементы.КомпоновщикНастроек.ТекущаяСтрока).Заголовок);
	ОповеститьОВыборе(Новый Структура("Поле, Заголовок", Поле, Заголовок));
	//Закрыть();
	
	
КонецПроцедуры

&НаКлиенте
Процедура ВыборПоля(Команда)
	
	Выбор();
	
КонецПроцедуры

