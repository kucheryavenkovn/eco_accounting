#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область СлужебныйПрограммныйИнтерфейс

Функция ТекущиеНастройки() Экспорт
	
	ВариантСохраненияПоУмолчанию = Перечисления.ВариантыСохраненияСоответствийБРД.СохранятьАвтоматически;
	Результат = Новый Структура;
	Результат.Вставить("ЧастотаЗагрузкиДокументовИзСервиса", 30);
	Результат.Вставить("ПоказыватьЭлементыНастройкиИнтерфейса", Истина);
	Результат.Вставить("ПроверятьЗамечанияПередСозданиемДокументов", Истина);
	Результат.Вставить("ЗадаватьВопросОСохраненииСоответствийДляРаспознанныхСтрок", Ложь);
	Результат.Вставить("ВариантСохраненияСоответствий", ВариантСохраненияПоУмолчанию);
	Результат.Вставить("ОткрыватьНовыеЭлементыСправочниковПослеСоздания", Ложь);
	
	Результат.Вставить("ФормаОбработчикаПоказыватьИзображенияВШапке", Ложь);
	
	Результат.Вставить("РаспознаватьВложенияИзПочты", Ложь);
	Результат.Вставить("ЧастотаОтправкиВложенийИзПочтыНаРаспознавание", 30);
	Результат.Вставить("ЭлектроннаяПочтаДляОбработкиВложений", Неопределено);
	Результат.Вставить("ДатаПоследнейОбработкиВложений", '00010101');
	
	Результат.Вставить("РаспознаватьФайлыИзКаталога", Ложь);
	Результат.Вставить("ЧастотаОтправкиФайловИзКаталогаНаРаспознавание", 30);
	Результат.Вставить("КаталогДляОбработкиФайлов", 0);
	Результат.Вставить("ВключаяВложенныеКаталоги", 0);
	
	Результат.Вставить("СкладПоУмолчанию");
	Результат.Вставить("ПорогНоменклатурыДляГрупповогоСоздания", 0);
	Результат.Вставить("ПриОбнаруженииДокументаПрикреплятьИзображениеАвтоматически", Ложь);
	Результат.Вставить("ПомечатьДокументОбработаннымПриПрикреаленииИзображения", Истина);
	Результат.Вставить("СоздаватьСчетФактуруПриСозданииОснования", Ложь);
	Результат.Вставить("АдресЭлПочты", "");
	
	МенеджерЗаписи = РегистрыСведений.ОбщиеНастройкиРаспознаваниеДокументов.СоздатьМенеджерЗаписи();
	МенеджерЗаписи.Прочитать();
	Если МенеджерЗаписи.Выбран() Тогда
		ЗаполнитьЗначенияСвойств(Результат, МенеджерЗаписи);
		Если Результат.ВариантСохраненияСоответствий = Перечисления.ВариантыСохраненияСоответствийБРД.ПустаяСсылка() Тогда
			Результат.ВариантСохраненияСоответствий = ВариантСохраненияПоУмолчанию;
		КонецЕсли;
	КонецЕсли;
	
	// FIXME
	// Обнуление настроек, сохраненных в базе, для временного отключения подсистемы.
	
	Результат.Вставить("РаспознаватьВложенияИзПочты", Ложь);
	Результат.Вставить("ЧастотаОтправкиВложенийИзПочтыНаРаспознавание", 30);
	Результат.Вставить("ЭлектроннаяПочтаДляОбработкиВложений", Неопределено);
	Результат.Вставить("ДатаПоследнейОбработкиВложений", '00010101');
	
	Результат.Вставить("РаспознаватьФайлыИзКаталога", Ложь);
	Результат.Вставить("ЧастотаОтправкиФайловИзКаталогаНаРаспознавание", 30);
	Результат.Вставить("КаталогДляОбработкиФайлов", 0);
	Результат.Вставить("ВключаяВложенныеКаталоги", 0);
	
	Возврат Результат;
	
КонецФункции

#КонецОбласти

#КонецЕсли
