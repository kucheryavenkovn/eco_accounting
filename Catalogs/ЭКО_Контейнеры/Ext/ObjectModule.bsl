
Процедура ПередЗаписью(Отказ)
	Если не ЗначениеЗаполнено(ИнвентарныйНомер) Тогда 

		Запрос = Новый Запрос;
		Запрос.Текст = 
			"ВЫБРАТЬ ПЕРВЫЕ 1
			|	ЭКО_Контейнеры.Счетчик КАК Счетчик
			|ИЗ
			|	Справочник.ЭКО_Контейнеры КАК ЭКО_Контейнеры
			|
			|УПОРЯДОЧИТЬ ПО
			|	Счетчик УБЫВ";
		
		РезультатЗапроса = Запрос.Выполнить();
		
		ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
		ПСчетчик = 0;
		Если  ВыборкаДетальныеЗаписи.Следующий() Тогда 
			ПСчетчик = ВыборкаДетальныеЗаписи.Счетчик;	
		КонецЕсли;
		Счетчик = ПСчетчик + 1;
		Если ПСчетчик <10 Тогда 
			ССчетчик= "000" + Счетчик;
		ИначеЕсли ПСчетчик <100 Тогда 
			ССчетчик= "00" + Счетчик;
		ИначеЕсли ПСчетчик <1000 Тогда 
			ССчетчик= "0" + Счетчик;
		Иначе 	
			ССчетчик= ""+ Счетчик;
		КонецЕсли;
		
		ИнвентарныйНомер = "К16-" + Строка(ССчетчик);
		
		Наименование = ИнвентарныйНомер+"/"+Номенклатура.Наименование;
		
	КонецЕсли;
	

КонецПроцедуры
